
from setezor.models import IDDependent, Base
from sqlmodel import Field, Relationship
from typing import Optional

class L7SoftwareVulnerabilityScreenshot(IDDependent, Base, table=True):
    __tablename__ = "l7_software_vulnerability_screenshot"
    __table_args__ = {
        "comment": "Таблица предназначена для хранения скриншотов уязвимостей на ресурсе с определённым софтом"
    }
    path: str                               = Field(sa_column_kwargs={"comment": "Путь до скриншота"})
    note: Optional[str]                     = Field(sa_column_kwargs={"comment": "Заметка для скриншота"})
    l7_software_vulnerability_id: str   = Field(foreign_key="l7_software_vulnerability.id", sa_column_kwargs={"comment":"Идентификатор софта на ресурсе"})

    l7_software_vulnerability: "L7SoftwareVulnerability" = Relationship(back_populates="screenshots")